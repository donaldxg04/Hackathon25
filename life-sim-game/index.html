<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Life Sim - Main Dashboard</title>
    <!--
        BitLife-style Web Game - Main Dashboard
        This is the core game screen showing player stats, finances, and life balance.
        Built with vanilla HTML, CSS, and JavaScript for maximum compatibility.
    -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Main Game Dashboard -->
    <div class="dashboard-container">

        <!-- Left Column -->
        <div class="left-column">
            <!-- Net Worth Card (Interactive) -->
            <div class="card net-worth-card" id="netWorthCard" data-modal="netWorthModal">
                <div class="net-worth-amount" id="netWorthDisplay">
                    Net Worth: $1,568,960.98
                </div>
                <div class="chart-container" id="netWorthChartContainer">
                    <canvas id="netWorthChart"></canvas>
                </div>
            </div>

            <!-- Asset Allocation Pie Chart (Interactive) -->
            <div class="card asset-allocation-card" id="assetAllocationCard" data-modal="assetAllocationModal">
                <h3>Asset Allocation</h3>
                <div class="circular-chart-container">
                    <svg class="circular-chart" viewBox="0 0 200 200">
                        <!-- Segments will be drawn by JavaScript -->
                        <circle cx="100" cy="100" r="80" fill="none" stroke="#2a2a2a" stroke-width="2"/>
                        <g id="pieSegments"></g>
                    </svg>
                    <div class="chart-legend" id="chartLegend"></div>
                </div>
            </div>
        </div>

        <!-- Right Column -->
        <div class="right-column">
            <!-- Date Display -->
            <div class="date-display" id="dateDisplay">
                May 2nd, 2011
            </div>

            <!-- Player Info & Stats -->
            <div class="card player-card">
                <div class="player-info">
                    <div class="info-row">
                        <span class="info-label">Name:</span>
                        <span class="info-value" id="playerName">John Doe</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Age:</span>
                        <span class="info-value" id="playerAge">25</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Occupation:</span>
                        <span class="info-value" id="playerOccupation">Software Developer</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Location:</span>
                        <span class="info-value" id="playerLocation">San Francisco, CA</span>
                    </div>
                </div>

                <!-- Stat Bars -->
                <div class="stats-container">
                    <div class="stat-bar">
                        <div class="stat-label">
                            <span>Health Bar</span>
                            <span class="stat-value" id="healthValue">80%</span>
                        </div>
                        <div class="bar-background">
                            <div class="bar-fill health-bar" id="healthBar" style="width: 80%"></div>
                        </div>
                    </div>

                    <div class="stat-bar">
                        <div class="stat-label">
                            <span>Stress Bar</span>
                            <span class="stat-value" id="stressValue">30%</span>
                        </div>
                        <div class="bar-background">
                            <div class="bar-fill stress-bar" id="stressBar" style="width: 30%"></div>
                        </div>
                    </div>

                    <div class="stat-bar">
                        <div class="stat-label">
                            <span>Happiness Bar</span>
                            <span class="stat-value" id="happinessValue">65%</span>
                        </div>
                        <div class="bar-background">
                            <div class="bar-fill happiness-bar" id="happinessBar" style="width: 65%"></div>
                        </div>
                    </div>
                </div>

                <!-- Test Controls -->
                <div class="test-controls">
                    <button class="btn-primary" id="randomEventBtn">Random Day Event</button>
                </div>
            </div>

            <!-- Market Watch / Stock Charts (Interactive) -->
            <div class="card market-watch-card" id="marketWatchCard" data-modal="investingModal">
                <h3>Market Watch</h3>
                <div class="market-chart-container" id="marketChartContainer">
                    <canvas id="marketChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal System -->
    <!-- Net Worth Modal -->
    <div class="modal" id="netWorthModal">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>Net Worth Breakdown</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p>Your total net worth across all asset categories:</p>
                <div id="netWorthBreakdown"></div>
            </div>
        </div>
    </div>

    <!-- Asset Allocation Modal -->
    <div class="modal" id="assetAllocationModal">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>Asset Management</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p>Transfer funds between your asset accounts:</p>

                <div class="asset-transfer-form">
                    <div class="form-group">
                        <label for="fromAccount">From Account:</label>
                        <select id="fromAccount" class="form-control">
                            <option value="realEstate">Real Estate</option>
                            <option value="checking">Checking Account</option>
                            <option value="investments">Investments</option>
                            <option value="crypto">Crypto</option>
                            <option value="other">Other Assets</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="toAccount">To Account:</label>
                        <select id="toAccount" class="form-control">
                            <option value="realEstate">Real Estate</option>
                            <option value="checking" selected>Checking Account</option>
                            <option value="investments">Investments</option>
                            <option value="crypto">Crypto</option>
                            <option value="other">Other Assets</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="transferAmount">Amount:</label>
                        <input type="number" id="transferAmount" class="form-control" placeholder="Enter amount" min="0" step="0.01">
                    </div>

                    <button class="btn-primary" id="transferBtn">Transfer</button>
                </div>

                <div class="transfer-message" id="transferMessage"></div>

                <div class="current-balances">
                    <h3>Current Balances:</h3>
                    <div id="assetBalances"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Investing Modal -->
    <div class="modal" id="investingModal">
        <div class="modal-backdrop"></div>
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>Investing Portfolio</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="portfolio-summary">
                    <h3>Your Portfolio</h3>
                    <div class="portfolio-value">
                        <span>Total Portfolio Value:</span>
                        <span id="portfolioValue" class="value-highlight">$0.00</span>
                    </div>
                    <div class="cash-balance">
                        <span>Available Cash:</span>
                        <span id="availableCash" class="value-highlight">$0.00</span>
                    </div>
                </div>

                <div class="positions-table-container">
                    <h3>Current Positions</h3>
                    <table class="positions-table" id="positionsTable">
                        <thead>
                            <tr>
                                <th>Symbol</th>
                                <th>Shares</th>
                                <th>Price</th>
                                <th>Total Value</th>
                            </tr>
                        </thead>
                        <tbody id="positionsTableBody">
                        </tbody>
                    </table>
                </div>

                <div class="trading-interface">
                    <h3>Buy / Sell Stocks</h3>
                    <div class="trading-form">
                        <div class="form-group">
                            <label for="stockSymbol">Stock Symbol:</label>
                            <select id="stockSymbol" class="form-control">
                                <option value="ACME">ACME - $120.00</option>
                                <option value="TECH">TECH - $300.00</option>
                                <option value="CRYPTO_ETF">CRYPTO ETF - $800.00</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="shareAmount">Number of Shares:</label>
                            <input type="number" id="shareAmount" class="form-control" placeholder="Enter shares" min="1" step="1">
                        </div>

                        <div class="trading-buttons">
                            <button class="btn-success" id="buyBtn">Buy</button>
                            <button class="btn-danger" id="sellBtn">Sell</button>
                        </div>
                    </div>

                    <div class="trading-message" id="tradingMessage"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Chart.js for line chart (CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="main.js"></script>
</body>
</html>
